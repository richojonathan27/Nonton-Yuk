<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nonton Yuk by Smart</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: #0d0d0c; color: #ffffff; overflow-x: hidden; }
        
        /* Navbar */
        nav { display: flex; justify-content: space-between; align-items: center; padding: 15px 4%; background: linear-gradient(rgba(0,0,0,0.9), transparent); position: fixed; width: 100%; z-index: 100; transition: background 0.3s; }
        nav.scrolled { background: rgba(13, 13, 12, 0.95); backdrop-filter: blur(10px); }
        .logo { color: #fff; font-size: 24px; font-weight: 800; letter-spacing: 1px; }
        .logo span { color: #E50914; }
        .nav-links { display: flex; gap: 20px; list-style: none; font-size: 14px; font-weight: 500; }
        .nav-links a { color: #e5e5e5; text-decoration: none; transition: 0.3s; }
        .nav-links a:hover { color: #fff; }
        
        /* Hero Banner */
        .hero { position: relative; height: 85vh; display: flex; align-items: center; padding: 0 4%; background-size: cover; background-position: center top; transition: background-image 0.5s ease-in-out; }
        .hero::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to right, rgba(13, 13, 12, 0.9) 20%, transparent 80%), linear-gradient(to top, #0d0d0c 5%, transparent 40%); z-index: 1; }
        
        .hero-content { position: relative; z-index: 2; max-width: 600px; margin-top: 50px; }
        .tags { display: flex; gap: 10px; margin-bottom: 15px; }
        .tag { background: rgba(255,255,255,0.2); backdrop-filter: blur(5px); padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
        .tag.hot { background: #E50914; color: white; }
        .hero-content h1 { font-size: 3rem; font-weight: 800; line-height: 1.1; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .hero-content p { font-size: 1rem; color: #d1d5db; line-height: 1.5; margin-bottom: 25px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .btn-play { background-color: #fff; color: #000; border: none; padding: 12px 30px; font-size: 1.1rem; font-weight: 700; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.2s; }
        .btn-play:hover { background-color: #d1d5db; transform: scale(1.05); }

        /* Rows */
        .row { padding: 10px 4% 30px; position: relative; z-index: 5; }
        .row-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .row h2 { font-size: 1.3rem; font-weight: 700; color: #fff; }
        .slider { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; scroll-behavior: smooth; }
        .slider::-webkit-scrollbar { display: none; }
        
        .card { min-width: 160px; max-width: 160px; display: flex; flex-direction: column; cursor: pointer; }
        .card-img-wrapper { position: relative; width: 100%; height: 230px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.4); background-color: #222; }
        .card img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
        .card-img-wrapper:hover img { transform: scale(1.1); }
        .ep-badge { position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.7); color: #fff; padding: 3px 6px; border-radius: 4px; font-size: 11px; font-weight: 700; backdrop-filter: blur(4px); }
        .card-title { margin-top: 10px; font-size: 0.95rem; font-weight: 600; color: #e5e5e5; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* Video Modal */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 1000; justify-content: center; align-items: center; flex-direction: column; }
        .modal.active { display: flex; }
        .modal-content { width: 90%; max-width: 1000px; background: #000; border-radius: 12px; overflow: hidden; position: relative; box-shadow: 0 10px 40px rgba(0,0,0,0.8); border: 1px solid #333; }
        .close-btn { position: absolute; top: -40px; right: 0; font-size: 30px; color: #fff; cursor: pointer; z-index: 10; }
        video { width: 100%; display: block; outline: none; max-height: 75vh; }
        #status-api { padding: 15px; text-align: center; color: #00ca65; font-size: 14px; font-weight: bold; }

        @media (max-width: 768px) {
            .nav-links { display: none; }
            .hero-content h1 { font-size: 2rem; }
            .hero { height: 70vh; }
            .card { min-width: 130px; max-width: 130px; }
            .card-img-wrapper { height: 190px; }
            .close-btn { top: 10px; right: 10px; }
        }
    </style>
</head>
<body>

    <nav id="navbar">
        <div style="display: flex; flex-direction: column;">
            <div class="logo">Nonton <span>Yuk</span></div>
            <span style="color: #9ca3af; font-size: 10px; font-weight: 600; letter-spacing: 1px; margin-top: -3px;">by : Smart</span>
        </div>
        <ul class="nav-links">
            <li><a href="#">Beranda</a></li>
            <li><a href="#">Trending</a></li>
        </ul>
    </nav>

    <div class="hero" id="hero-banner" style="background-image: url('https://hwztchapter.dramaboxdb.com/data/cppartner/4x1/41x0/410x0/41000104882/41000104882.jpg');">
        <div class="hero-content">
            <div class="tags">
                <span class="tag hot"><i class="fas fa-fire"></i> New Release</span>
                <span class="tag" id="hero-ep">61 EP</span>
            </div>
            <h1 id="hero-title">Gadis Lugu Penakluk Raja Mafia</h1>
            <p id="hero-desc">Setelah diculik oleh raja mafia, Bella yang polos dipaksa untuk menandatangani kontrak...</p>
            
            <button class="btn-play" id="btn-play-utama" onclick="bukaPlayer('https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4')">
                <i class="fas fa-play"></i> Play Now
            </button>
        </div>
    </div>

    <div class="row">
        <div class="row-header"><h2>Drama Pilihan</h2></div>
        <div class="slider" id="row-foryou"></div>
    </div>

    <div class="modal" id="videoModal">
        <div style="position: relative; width: 90%; max-width: 1000px;">
            <i class="fas fa-times close-btn" onclick="tutupPlayer()"></i>
            <div class="modal-content">
                <div id="status-api"></div>
                <video id="video-player" controls>
                    <source id="video-source" src="" type="video/mp4">
                </video>
            </div>
        </div>
    </div>

    <script>
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if(window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        });

        // ------------------------------------------------------------------
        // LINK VIDEO SEKARANG 100% HTTPS (Sesuai dengan syarat keamanan Vercel)
        // ------------------------------------------------------------------
        const daftarDrama = [
            { 
                judul: "Gadis Lugu Penakluk Raja Mafia", 
                cover: "https://hwztchapter.dramaboxdb.com/data/cppartner/4x1/41x0/410x0/41000104882/41000104882.jpg", 
                ep: "61 EP", desc: "Setelah diculik oleh raja mafia, Bella yang polos dipaksa untuk menandatangani kontrak...",
                linkVideo: "https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4" 
            },
            { 
                judul: "Cerita Cinta Cheerleader", 
                cover: "https://hwztchapter.dramaboxdb.com/data/cppartner/4x1/41x0/410x0/41000119583/41000119583.jpg", 
                ep: "57 EP", desc: "Jane terpaksa tinggal bersama musuh bebuyutannya sejak kecil, William...",
                linkVideo: "https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4" 
            },
            { 
                judul: "Ciumanmu Mengubah Duniaku", 
                cover: "https://hwztchapter.dramaboxdb.com/data/cppartner/4x1/41x0/410x0/41000119254/41000119254.jpg", 
                ep: "53 EP", desc: "Takdir mempertemukan Gabrielle dengan Kyle, seorang CEO tampan...",
                linkVideo: "https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" 
            },
            { 
                judul: "Bangkit dan Berkuasa", 
                cover: "https://hwztchapter.dramaboxdb.com/data/cppartner/4x1/41x0/410x0/41000107468/41000107468.jpg", 
                ep: "90 EP", desc: "Rendy yang diremehkan tiba-tiba diajak menikah oleh Ratu Bisnis dan CEO cantik...",
                linkVideo: "https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" 
            }
        ];

        // Render Poster
        const container = document.getElementById('row-foryou');
        daftarDrama.forEach(drama => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-img-wrapper">
                    <img src="${drama.cover}" alt="Poster">
                    <div class="ep-badge">${drama.ep}</div>
                </div>
                <p class="card-title">${drama.judul}</p>
            `;
            
            card.addEventListener('click', () => {
                document.getElementById('hero-banner').style.backgroundImage = `url('${drama.cover}')`;
                document.getElementById('hero-title').innerText = drama.judul;
                document.getElementById('hero-desc').innerText = drama.desc;
                document.getElementById('hero-ep').innerText = drama.ep;
                
                const btnPlay = document.getElementById('btn-play-utama');
                btnPlay.setAttribute('onclick', `bukaPlayer('${drama.linkVideo}')`);
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            container.appendChild(card);
        });

        // Player Video Instan
        const modal = document.getElementById('videoModal');
        const player = document.getElementById('video-player');
        const sumberVideo = document.getElementById('video-source');
        const statusAPI = document.getElementById('status-api');

        function bukaPlayer(videoUrl) {
            modal.classList.add('active');
            player.style.display = 'none'; 
            statusAPI.style.display = 'block';
            statusAPI.innerHTML = `<i class="fas fa-play-circle"></i> Memuat Video...`;

            setTimeout(() => {
                statusAPI.style.display = 'none';
                sumberVideo.src = videoUrl;
                player.load();
                player.style.display = 'block';
                player.play();
            }, 300); 
        }

        // Tampilkan peringatan jika video tetap error
        player.addEventListener('error', function() {
            statusAPI.style.display = 'block';
            statusAPI.style.color = '#E50914';
            statusAPI.innerHTML = `⚠️ Gagal Memutar.<br><span style="font-size:12px; color:#aaa;">Pastikan link video diawali dengan HTTPS://</span>`;
            player.style.display = 'none';
        }, true);

        function tutupPlayer() {
            modal.classList.remove('active');
            player.pause();
            sumberVideo.src = ""; 
        }
    </script>
</body>
</html>
